<div class="dashboard-panel">
    <h2>ğŸ“š GestiÃ³n de Asignaturas</h2>

    <div *ngIf="mensajeError" class="alerta-error">
        {{ mensajeError }}
    </div>

    <form #formAsig="ngForm" (ngSubmit)="guardar()">
        <div class="filtros-dashboard">
            <input type="text" [(ngModel)]="formAsignatura.clase" name="clase" required maxlength="100"
                placeholder="Nombre Asignatura (Ej. Mates)" style="flex: 1;">

            <input type="text" [(ngModel)]="formAsignatura.profesor" name="profesor" required maxlength="50"
                placeholder="Nombre del Profesor" style="flex: 1;">

            <button type="submit" class="btn-guardar" [disabled]="formAsig.invalid || cargando"
                [title]="formAsig.invalid ? 'Rellena Asignatura y Profesor' : 'Guardar'">
                {{ formAsignatura.id === 0 ? 'ğŸ’¾ Crear' : 'ğŸ”„ Actualizar' }}
            </button>

            <button *ngIf="formAsignatura.id !== 0" type="button" (click)="limpiar()" class="btn-cancelar">âŒ</button>
        </div>
    </form>
</div>

<div *ngIf="cargando" class="loading-container">
    <div class="spinner"></div>
    <p>Cargando asignaturas...</p>
</div>

<table class="tabla-datos" *ngIf="!cargando">
    <thead>
        <tr>
            <th>Asignatura</th>
            <th>Profesor</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let asig of listaAsignaturas">
            <td>{{ asig.clase }}</td>
            <td>{{ asig.profesor || '---' }}</td>
            <td>
                <button (click)="editar(asig)" class="btn-editar">âœï¸</button>
                <button (click)="eliminar(asig.id)" class="btn-borrar">ğŸ—‘ï¸</button>
            </td>
        </tr>
    </tbody>
</table>